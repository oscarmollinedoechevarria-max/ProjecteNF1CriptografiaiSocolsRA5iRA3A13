<div class="admin">

  @if(this.rol == 'admin' && this.rol != null){

  <div class="login">
    <div class="backgroundDiv">
      <h2>Stats</h2>
      <p>RAM: {{ stats.ram_used }} / {{ stats.ram_total }}</p>
      <p>CPU: {{ stats.cpu?.join(', ') }}</p>
    </div>

    <div class="backgroundDiv">
      <h2>Queixes usuaris</h2>
      <button (click)="fetchFiles()">Actualitzar</button>

      <br>

      @for (file of files; track file.name) {
        <div class="backgroundReport">
          <h5 (click)="seleccionarFitxer(file)" style="cursor:pointer">
            {{ file.name }} â€” {{ file.size }}b
          </h5>

          @if (fileSeleccionat?.name === file.name) {
            <div id="fileContent">
              <p>{{ file.contingut }}</p>
            </div>
          }
        </div>
      }
    </div>
  </div>
    }
  @else {
    <div class="errorcontainer">
      <div class="login-aviso">
        <p class="avis-text">Has de ser admin per veure aquesta pagina.</p>
        <a routerLink="/" class="login-button">Anar a login</a>
      </div>
    </div>
  }
</div>
